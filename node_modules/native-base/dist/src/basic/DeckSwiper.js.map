{"version":3,"sources":["../../../src/basic/DeckSwiper.js"],"names":["SWIPE_THRESHOLD","DeckSwiper","props","state","pan","ValueXY","pan2","enter","Value","selectedItem","dataSource","selectedItem2","card1Top","card2Top","fadeAnim","looping","disabled","length","lastCard","topCard","position","top","right","left","currentIndex","newIdx","newIdx2","indexOf","setState","setTimeout","nextIndexes","findNextIndexes","onSwiping","timing","toValue","start","spring","friction","selectNext","decay","velocity","x","y","deceleration","_resetState","bind","_panResponder","create","onMoveShouldSetResponderCapture","onMoveShouldSetPanResponderCapture","evt","gestureState","Math","abs","dx","onPanResponderGrant","e","setOffset","_value","setValue","onPanResponderMove","val","opa","event","onPanResponderRelease","vx","vy","onSwipeRight","undefined","onSwipeLeft","translateX","translateY","rotate","interpolate","inputRange","outputRange","opacity","scale","animatedCardStyles","transform","animatedCardStyles2","_root","c","flexDirection","renderEmpty","getCardStyles","getInitialStyle","panHandlers","renderItem","renderBottom","renderTop","propTypes","style","PropTypes","object","array","StyledDeckSwiper"],"mappings":"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","file":"DeckSwiper.js","sourcesContent":["import React, { Component } from \"react\";\nimport { View, Animated, PanResponder, ViewPropTypes } from \"react-native\";\nimport clamp from \"clamp\";\nimport { connectStyle } from \"native-base-shoutem-theme\";\nimport mapPropsToStyleNames from \"../Utils/mapPropsToStyleNames\";\n\nconst SWIPE_THRESHOLD = 120;\n\nclass DeckSwiper extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pan: new Animated.ValueXY(),\n      pan2: new Animated.ValueXY(),\n      enter: new Animated.Value(0.8),\n      selectedItem: this.props.dataSource[0],\n      selectedItem2: this.props.dataSource[1],\n      card1Top: true,\n      card2Top: false,\n      fadeAnim: new Animated.Value(0.8),\n      looping: this.props.looping || true,\n      disabled: this.props.dataSource.length === 0,\n      lastCard: this.props.dataSource.length === 1\n    };\n  }\n\n  getInitialStyle() {\n    return {\n      topCard: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        left: 0\n      }\n    };\n  }\n\n  findNextIndexes(currentIndex) {\n    let newIdx = currentIndex + 1;\n    let newIdx2 = currentIndex + 2;\n\n    if (\n      newIdx2 > this.props.dataSource.length - 1 &&\n      newIdx === this.props.dataSource.length - 1\n    ) {\n      return [newIdx, 0];\n    } else if (newIdx > this.props.dataSource.length - 1) {\n      return [0, 1];\n    } else {\n      return [newIdx, newIdx2];\n    }\n  }\n\n  selectNext() {\n    const dataSource = this.props.dataSource;\n    let currentIndex = dataSource.indexOf(this.state.selectedItem);\n\n    // if not looping, check for these conditionals and if true return from selectNext()\n    if (!this.state.looping) {\n      // reached end -> only display static renderEmpty() -> no swiping\n      if (currentIndex === dataSource.length - 1) {\n        return this.setState({\n          disabled: true\n        });\n      } else if (currentIndex === dataSource.length - 2) {\n        // show last card with renderEmpty() component behind it\n        return setTimeout(() => {\n          this.setState({\n            selectedItem: dataSource[currentIndex + 1]\n          });\n          setTimeout(() => {\n            this.setState({\n              lastCard: true\n            });\n          }, 350);\n        }, 50);\n      }\n    }\n\n    let nextIndexes = this.findNextIndexes(currentIndex);\n    setTimeout(() => {\n      this.setState({\n        selectedItem: this.props.dataSource[nextIndexes[0]]\n      });\n      setTimeout(() => {\n        this.setState({\n          selectedItem2: this.props.dataSource[nextIndexes[1]]\n        });\n      }, 350);\n    }, 50);\n  }\n\n  swipeRight() {\n    if (this.props.onSwiping) this.props.onSwiping(\"right\");\n    setTimeout(() => {\n      Animated.timing(this.state.fadeAnim, { toValue: 1 }).start();\n      Animated.spring(this.state.enter, { toValue: 1, friction: 7 }).start();\n      this.selectNext();\n      Animated.decay(this.state.pan, {\n        velocity: { x: 8, y: 1 },\n        deceleration: 0.98\n      }).start(this._resetState.bind(this));\n    }, 300);\n  }\n\n  swipeLeft() {\n    if (this.props.onSwiping) this.props.onSwiping(\"left\");\n    setTimeout(() => {\n      Animated.timing(this.state.fadeAnim, { toValue: 1 }).start();\n      Animated.spring(this.state.enter, { toValue: 1, friction: 7 }).start();\n      this.selectNext();\n      Animated.decay(this.state.pan, {\n        velocity: { x: -8, y: 1 },\n        deceleration: 0.98\n      }).start(this._resetState.bind(this));\n    }, 300);\n  }\n\n  componentWillMount() {\n    this._panResponder = PanResponder.create({\n      onMoveShouldSetResponderCapture: () => true,\n      onMoveShouldSetPanResponderCapture: (evt, gestureState) => {\n        return Math.abs(gestureState.dx) > 5;\n      },\n\n      onPanResponderGrant: (e, gestureState) => {\n        this.state.pan.setOffset({\n          x: this.state.pan.x._value,\n          y: this.state.pan.y._value\n        });\n        this.state.pan.setValue({ x: 0, y: 0 });\n      },\n\n      onPanResponderMove: (e, gestureState) => {\n        if (gestureState.dx > 20) {\n          if (this.props.onSwiping)\n            this.props.onSwiping(\"right\", gestureState.dx);\n        } else if (gestureState.dx < -20) {\n          if (this.props.onSwiping)\n            this.props.onSwiping(\"left\", gestureState.dx);\n        }\n        let val = Math.abs(gestureState.dx * 0.0013);\n        let opa = Math.abs(gestureState.dx * 0.0022);\n        if (val > 0.2) {\n          val = 0.2;\n        }\n        Animated.timing(this.state.fadeAnim, { toValue: 0.8 + val }).start();\n        Animated.spring(this.state.enter, {\n          toValue: 0.8 + val,\n          friction: 7\n        }).start();\n        Animated.event([null, { dx: this.state.pan.x }])(e, gestureState);\n      },\n\n      onPanResponderRelease: (e, { vx, vy }) => {\n        if (this.props.onSwiping) this.props.onSwiping(null);\n        var velocity;\n\n        if (vx >= 0) {\n          velocity = clamp(vx, 4.5, 10);\n        } else if (vx < 0) {\n          velocity = clamp(vx * -1, 4.5, 10) * -1;\n        }\n\n        if (Math.abs(this.state.pan.x._value) > SWIPE_THRESHOLD) {\n          if (velocity > 0) {\n            this.props.onSwipeRight\n              ? this.props.onSwipeRight(this.state.selectedItem)\n              : undefined;\n            this.selectNext();\n          } else {\n            this.props.onSwipeLeft\n              ? this.props.onSwipeLeft(this.state.selectedItem)\n              : undefined;\n            this.selectNext();\n          }\n\n          Animated.decay(this.state.pan, {\n            velocity: { x: velocity, y: vy },\n            deceleration: 0.98\n          }).start(this._resetState.bind(this));\n        } else {\n          Animated.spring(this.state.pan, {\n            toValue: { x: 0, y: 0 },\n            friction: 4\n          }).start();\n        }\n      }\n    });\n  }\n\n  _resetState() {\n    this.state.pan.setValue({ x: 0, y: 0 });\n    this.state.enter.setValue(0.8);\n    this.state.fadeAnim.setValue(0.8);\n    this.setState({\n      card1Top: !this.state.card1Top,\n      card2Top: !this.state.card2Top\n    });\n    if (this.props.onSwiping) this.props.onSwiping(null);\n  }\n\n  getCardStyles() {\n    let { pan, pan2, enter } = this.state;\n\n    let [translateX, translateY] = [pan.x, pan.y];\n    // let [translateX, translateY] = [pan2.x, pan2.y];\n\n    let rotate = pan.x.interpolate({\n      inputRange: [-700, 0, 700],\n      outputRange: [\"-10deg\", \"0deg\", \"10deg\"]\n    });\n\n    let opacity = pan.x.interpolate({\n      inputRange: [-320, 0, 320],\n      outputRange: [0.9, 1, 0.9]\n    });\n    let scale = enter;\n\n    let animatedCardStyles = {\n      transform: [{ translateX }, { translateY }, { rotate }],\n      opacity\n    };\n    let animatedCardStyles2 = { transform: [{ scale }] };\n\n    return [animatedCardStyles, animatedCardStyles2];\n  }\n\n  render() {\n    if (this.state.disabled) {\n      // disable swiping and renderEmpty\n      return (\n        <View\n          ref={c => (this._root = c)}\n          style={{ position: \"relative\", flexDirection: \"column\" }}\n        >\n          {\n            <View>\n              {this.props.renderEmpty && this.props.renderEmpty()}\n            </View>\n          }\n        </View>\n      );\n    } else if (this.state.lastCard) {\n      // display renderEmpty underneath last viable card\n      return (\n        <View\n          ref={c => (this._root = c)}\n          style={{ position: \"relative\", flexDirection: \"column\" }}\n        >\n          {this.state.selectedItem === undefined\n            ? <View />\n            : <View>\n                <Animated.View\n                  style={[\n                    this.getCardStyles()[1],\n                    this.getInitialStyle().topCard,\n                    { opacity: this.state.fadeAnim }\n                  ]}\n                  {...this._panResponder.panHandlers}\n                >\n                  {this.props.renderEmpty && this.props.renderEmpty()}\n                </Animated.View>\n                <Animated.View\n                  style={[\n                    this.getCardStyles()[0],\n                    this.getInitialStyle().topCard\n                  ]}\n                  {...this._panResponder.panHandlers}\n                >\n                  {this.props.renderItem(this.state.selectedItem)}\n                </Animated.View>\n              </View>}\n        </View>\n      );\n    } else {\n      return (\n        <View\n          ref={c => (this._root = c)}\n          style={{ position: \"relative\", flexDirection: \"column\" }}\n        >\n          {this.state.selectedItem === undefined\n            ? <View />\n            : <View>\n                <Animated.View\n                  style={[\n                    this.getCardStyles()[1],\n                    this.getInitialStyle().topCard,\n                    { opacity: this.state.fadeAnim }\n                  ]}\n                  {...this._panResponder.panHandlers}\n                >\n                  {this.props.renderBottom\n                    ? this.props.renderBottom(this.state.selectedItem2)\n                    : this.props.renderItem(this.state.selectedItem2)}\n                </Animated.View>\n                <Animated.View\n                  style={[\n                    this.getCardStyles()[0],\n                    this.getInitialStyle().topCard\n                  ]}\n                  {...this._panResponder.panHandlers}\n                >\n                  {this.props.renderTop\n                    ? this.props.renderTop(this.state.selectedItem)\n                    : this.props.renderItem(this.state.selectedItem)}\n                </Animated.View>\n              </View>}\n        </View>\n      );\n    }\n  }\n}\n\nDeckSwiper.propTypes = {\n  ...ViewPropTypes,\n  style: React.PropTypes.object,\n  dataSource: React.PropTypes.array\n};\n\nconst StyledDeckSwiper = connectStyle(\n  \"NativeBase.DeckSwiper\",\n  {},\n  mapPropsToStyleNames\n)(DeckSwiper);\n\nexport { StyledDeckSwiper as DeckSwiper };\n"]}